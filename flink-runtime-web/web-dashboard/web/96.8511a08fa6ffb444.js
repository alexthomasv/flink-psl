"use strict";(self.webpackChunkflink=self.webpackChunkflink||[]).push([[96],{21096:(F,S,a)=>{a.r(S),a.d(S,{JobManagerModule:()=>pt});var p=a(69808),d=a(93075),b=a(90342),T=a(71758),J=a(77484),m=a(74450),x=a(63098),r=a(90685),g=a(41894),u=a(70647),v=a(24342),_=a(17525),c=a(70592),q=a(16695),y=a(30325),f=a(8929),D=a(30567),M=a(21086),Z=a(27221),h=a(7625),t=a(5e3),z=a(94138),w=a(67035);let $=(()=>{class n{constructor(o,e){this.jobManagerService=o,this.cdr=e,this.listOfConfig=[],this.loading=!0,this.destroy$=new f.xQ,this.trackByConfig=(l,s)=>s.key}ngOnInit(){(0,D.D)([this.jobManagerService.loadConfig().pipe((0,Z.K)(()=>(0,M.of)([]))),this.jobManagerService.loadEnvironment().pipe((0,Z.K)(()=>(0,M.of)(void 0)))]).pipe((0,h.R)(this.destroy$)).subscribe(([o,e])=>{this.loading=!1,this.listOfConfig=o.sort((l,s)=>l.key>s.key?1:-1),this.environmentInfo=e,this.cdr.markForCheck()})}ngOnDestroy(){this.destroy$.next(),this.destroy$.complete()}}return n.\u0275fac=function(o){return new(o||n)(t.Y36(z.x),t.Y36(t.sBO))},n.\u0275cmp=t.Xpm({type:n,selectors:[["flink-job-manager-configuration"]],decls:1,vars:3,consts:[[3,"configurations","environmentInfo","loading"]],template:function(o,e){1&o&&t._UZ(0,"flink-configuration-cards",0),2&o&&t.Q6J("configurations",e.listOfConfig)("environmentInfo",e.environmentInfo)("loading",e.loading)},directives:[w.I],styles:["[_nghost-%COMP%]{display:flex;flex:1;flex-direction:column;overflow:auto}"],changeDetection:0}),n})();var k=a(37141);let E=(()=>{class n{constructor(){this.listOfNavigation=[{path:"metrics",title:"Metrics"},{path:"config",title:"Configuration"},{path:"logs",title:"Logs"},{path:"stdout",title:"Stdout"},{path:"log",title:"Log List"},{path:"thread-dump",title:"Thread Dump"}]}}return n.\u0275fac=function(o){return new(o||n)},n.\u0275cmp=t.Xpm({type:n,selectors:[["flink-job-manager"]],decls:2,vars:1,consts:[[3,"listOfNavigation"]],template:function(o,e){1&o&&(t._UZ(0,"flink-navigation",0),t._UZ(1,"router-outlet")),2&o&&t.Q6J("listOfNavigation",e.listOfNavigation)},directives:[k.J,y.lC],styles:["[_nghost-%COMP%]{display:flex;flex:1;flex-flow:column nowrap;box-sizing:border-box;height:100%;border:1px solid #f0f0f0;border-radius:2px;background:#fff;font-size:14px;line-height:1.5}[_nghost-%COMP%]   flink-navigation[_ngcontent-%COMP%]     .ant-tabs-nav-wrap{margin:0 16px}"],changeDetection:0}),n})();var B=a(40537),N=a(81709);const C={editorOptions:N.i,routerFactories:{jobManager:n=>[n]}},O=new t.OlP("job-manager-module-config",{providedIn:"root",factory:()=>C});var V=a(15160),U=a(51014);const I=function(){return["../"]};let H=(()=>{class n{constructor(o,e,l,s){this.jobManagerService=o,this.cdr=e,this.activatedRoute=l,this.moduleConfig=s,this.logs="",this.logName="",this.downloadUrl="",this.isLoading=!1,this.isFullScreen=!1,this.destroy$=new f.xQ,this.editorOptions=s.editorOptions||C.editorOptions}ngOnInit(){this.logName=this.activatedRoute.snapshot.params.logName,this.reload()}ngOnDestroy(){this.destroy$.next(),this.destroy$.complete()}reload(){this.isLoading=!0,this.cdr.markForCheck(),this.jobManagerService.loadLog(this.logName).pipe((0,B.x)(()=>{this.isLoading=!1,this.cdr.markForCheck()}),(0,h.R)(this.destroy$)).subscribe(o=>{this.logs=o.data,this.downloadUrl=o.url})}toggleFullScreen(o){this.isFullScreen=o}}return n.\u0275fac=function(o){return new(o||n)(t.Y36(z.x),t.Y36(t.sBO),t.Y36(y.gz),t.Y36(O))},n.\u0275cmp=t.Xpm({type:n,selectors:[["flink-job-manager-log-detail"]],hostVars:2,hostBindings:function(o,e){2&o&&t.ekj("full-screen",e.isFullScreen)},decls:11,vars:9,consts:[[1,"breadcrumb"],[3,"routerLink"],["nz-icon","","nzType","rollback","nzTheme","outline"],[3,"isLoading","downloadHref","downloadName","reload","fullScreen"],[1,"editor-container"],["flinkAutoResize","",3,"nzLoading","ngModel","nzEditorOption"]],template:function(o,e){1&o&&(t.TgZ(0,"div",0),t.TgZ(1,"nz-breadcrumb"),t.TgZ(2,"nz-breadcrumb-item"),t.TgZ(3,"a",1),t._UZ(4,"i",2),t._uU(5," Log List "),t.qZA(),t.qZA(),t.TgZ(6,"nz-breadcrumb-item"),t._uU(7),t.qZA(),t.qZA(),t.TgZ(8,"flink-addon-inline",3),t.NdJ("reload",function(){return e.reload()})("fullScreen",function(s){return e.toggleFullScreen(s)}),t.qZA(),t.qZA(),t.TgZ(9,"div",4),t._UZ(10,"nz-code-editor",5),t.qZA()),2&o&&(t.xp6(3),t.Q6J("routerLink",t.DdM(8,I)),t.xp6(4),t.hij(" ",e.logName," "),t.xp6(1),t.Q6J("isLoading",e.isLoading)("downloadHref",e.downloadUrl)("downloadName",e.logName),t.xp6(2),t.Q6J("nzLoading",e.isLoading)("ngModel",e.logs)("nzEditorOption",e.editorOptions))},directives:[T.Dg,T.MO,y.yS,u.Ls,V.G,m.XZ,U.w,d.JJ,d.On],styles:["[_nghost-%COMP%]{display:flex;flex:1;flex-flow:column nowrap}.full-screen[_nghost-%COMP%]{position:fixed;top:0;right:0;bottom:0;left:0;z-index:99;background:#fff}[_nghost-%COMP%]   .editor-container[_ngcontent-%COMP%]{position:relative;flex:1}[_nghost-%COMP%]   .editor-container[_ngcontent-%COMP%]   nz-code-editor[_ngcontent-%COMP%]{position:absolute;top:0;right:0;bottom:0;left:0}[_nghost-%COMP%]   .breadcrumb[_ngcontent-%COMP%]{position:relative;display:flex;flex-flow:row nowrap;padding:12px 24px;border-bottom:1px solid #f0f0f0;background:#fff}[_nghost-%COMP%]   .breadcrumb[_ngcontent-%COMP%]   flink-addon-inline[_ngcontent-%COMP%]{position:absolute;top:0;right:12px;line-height:47px}"],changeDetection:0}),n})();var R=a(73925),Q=a(40870);function Y(n,i){if(1&n&&(t.ynx(0),t.TgZ(1,"tr"),t.TgZ(2,"td"),t.TgZ(3,"a",4),t._uU(4),t.qZA(),t.qZA(),t.TgZ(5,"td"),t._uU(6),t.ALo(7,"humanizeDate"),t.qZA(),t.TgZ(8,"td"),t._uU(9),t.ALo(10,"number"),t.qZA(),t.qZA(),t.BQk()),2&n){const o=i.ngIf,e=t.oxw(2);t.xp6(3),t.Q6J("queryParamsHandling","preserve")("routerLink",e.logRouterFactory(o.name)),t.xp6(1),t.hij(" ",o.name," "),t.xp6(2),t.Oqu(t.xi3(7,5,o.mtime,"yyyy-MM-dd HH:mm:ss")),t.xp6(3),t.Oqu(t.xi3(10,8,o.size/1024,"1.0-2"))}}function G(n,i){if(1&n&&t.YNc(0,Y,11,11,"ng-container",3),2&n){const o=i.$implicit,e=t.oxw();t.Q6J("ngIf",e.narrowLogData(o))}}const W=function(){return["50%","25%","25%"]},K=function(){return{y:"calc( 100% - 36px )"}};let X=(()=>{class n{constructor(o,e,l){var s;this.jobManagerService=o,this.cdr=e,this.moduleConfig=l,this.trackByName=(L,A)=>A.name,this.narrowLogData=(0,R.t)(),this.sortLastModifiedTimeFn=(L,A)=>L.mtime-A.mtime,this.sortSizeFn=(L,A)=>L.size-A.size,this.listOfLog=[],this.isLoading=!0,this.destroy$=new f.xQ,this.logRouterFactory=(null===(s=l.routerFactories)||void 0===s?void 0:s.jobManager)||C.routerFactories.jobManager}ngOnInit(){this.jobManagerService.loadLogList().pipe((0,Z.K)(()=>(0,M.of)([])),(0,B.x)(()=>{this.isLoading=!1,this.cdr.markForCheck()}),(0,h.R)(this.destroy$)).subscribe(o=>{this.listOfLog=o})}ngOnDestroy(){this.destroy$.next(),this.destroy$.complete()}}return n.\u0275fac=function(o){return new(o||n)(t.Y36(z.x),t.Y36(t.sBO),t.Y36(O))},n.\u0275cmp=t.Xpm({type:n,selectors:[["flink-job-manager-log-list"]],decls:11,vars:14,consts:[["nzBordered","","nzSize","small",3,"nzData","nzLoading","nzFrontPagination","nzShowPagination","nzVirtualItemSize","nzVirtualForTrackBy","nzVirtualMinBufferPx","nzVirtualMaxBufferPx","nzWidthConfig","nzScroll"],[3,"nzSortFn"],["nz-virtual-scroll",""],[4,"ngIf"],[3,"queryParamsHandling","routerLink"]],template:function(o,e){1&o&&(t.TgZ(0,"nz-table",0),t.TgZ(1,"thead"),t.TgZ(2,"tr"),t.TgZ(3,"th"),t._uU(4,"Log Name"),t.qZA(),t.TgZ(5,"th",1),t._uU(6,"Last Modified Time"),t.qZA(),t.TgZ(7,"th",1),t._uU(8,"Size (KB)"),t.qZA(),t.qZA(),t.qZA(),t.TgZ(9,"tbody"),t.YNc(10,G,1,1,"ng-template",2),t.qZA(),t.qZA()),2&o&&(t.Q6J("nzData",e.listOfLog)("nzLoading",e.isLoading)("nzFrontPagination",!1)("nzShowPagination",!1)("nzVirtualItemSize",36)("nzVirtualForTrackBy",e.trackByName)("nzVirtualMinBufferPx",480)("nzVirtualMaxBufferPx",480)("nzWidthConfig",t.DdM(12,W))("nzScroll",t.DdM(13,K)),t.xp6(5),t.Q6J("nzSortFn",e.sortLastModifiedTimeFn),t.xp6(2),t.Q6J("nzSortFn",e.sortSizeFn))},directives:[c.N8,c.Om,c.$Z,c.Uo,c._C,c.qD,c.p0,c.zu,p.O5,y.yS],pipes:[Q.c,p.JJ],styles:["[_nghost-%COMP%]{display:flex;flex:1;padding:16px}[_nghost-%COMP%]     ::-webkit-scrollbar{display:none}[_nghost-%COMP%]     nz-table, [_nghost-%COMP%]     nz-spin, [_nghost-%COMP%]     cdk-virtual-scroll-viewport, [_nghost-%COMP%]     nz-table-inner-scroll, [_nghost-%COMP%]     .ant-spin-container, [_nghost-%COMP%]     .ant-table{height:100%}[_nghost-%COMP%]     .ant-table-cell{font-size:12px}"],changeDetection:0}),n})();var P=a(70946),j=a(32157);let tt=(()=>{class n{constructor(o,e,l,s){this.jobManagerService=o,this.configService=e,this.cdr=l,this.moduleConfig=s,this.downloadName="jobmanager_log",this.editorOptions=N.i,this.logs="",this.loading=!0,this.destroy$=new f.xQ,this.editorOptions=s.editorOptions||C.editorOptions,this.downloadUrl=`${this.configService.BASE_URL}/jobmanager/log`}ngOnInit(){this.reload()}ngOnDestroy(){this.destroy$.next(),this.destroy$.complete()}reload(){this.loading=!0,this.cdr.markForCheck(),this.jobManagerService.loadLogs().pipe((0,Z.K)(()=>(0,M.of)("")),(0,h.R)(this.destroy$)).subscribe(o=>{this.loading=!1,this.logs=o,this.cdr.markForCheck()})}}return n.\u0275fac=function(o){return new(o||n)(t.Y36(z.x),t.Y36(P.E),t.Y36(t.sBO),t.Y36(O))},n.\u0275cmp=t.Xpm({type:n,selectors:[["flink-job-manager-logs"]],decls:2,vars:5,consts:[["flinkAutoResize","",3,"nzLoading","ngModel","nzEditorOption"],[3,"downloadHref","downloadName","reload"]],template:function(o,e){1&o&&(t._UZ(0,"nz-code-editor",0),t.TgZ(1,"flink-addon-compact",1),t.NdJ("reload",function(){return e.reload()}),t.qZA()),2&o&&(t.Q6J("nzLoading",e.loading)("ngModel",e.logs)("nzEditorOption",e.editorOptions),t.xp6(1),t.Q6J("downloadHref",e.downloadUrl)("downloadName",e.downloadName))},directives:[m.XZ,U.w,d.JJ,d.On,j.N],styles:["[_nghost-%COMP%]{position:relative;display:flex;flex:1}[_nghost-%COMP%]   nz-code-editor[_ngcontent-%COMP%]{position:absolute;top:0;right:0;bottom:0;left:0}"],changeDetection:0}),n})();var et=a(1059),ot=a(24850),nt=a(22679),at=a(87764);let it=(()=>{class n{transform(o){const e=parseInt(o,10);return isNaN(e)?null:e}}return n.\u0275fac=function(o){return new(o||n)},n.\u0275pipe=t.Yjl({name:"parseInt",type:n,pure:!0}),n})();function rt(n,i){if(1&n&&(t.ynx(0),t._uU(1),t.ALo(2,"humanizeBytes"),t.ALo(3,"parseInt"),t.BQk()),2&n){const o=t.oxw(2);t.xp6(1),t.hij(" ",t.lcZ(2,1,t.lcZ(3,3,o.jmConfig["jobmanager.memory.jvm-overhead.min"]))," ")}}function st(n,i){if(1&n&&(t._uU(0),t._UZ(1,"br"),t._uU(2)),2&n){const o=t.oxw(2);t.hij(" Min: ",o.jmConfig["jobmanager.memory.jvm-overhead.min"]||"-"," "),t.xp6(2),t.hij(" Max: ",o.jmConfig["jobmanager.memory.jvm-overhead.max"]||"-"," ")}}const lt=function(){return["220px","160px","200px",null]};function dt(n,i){if(1&n&&(t.TgZ(0,"nz-table",9),t.TgZ(1,"thead"),t.TgZ(2,"tr"),t.TgZ(3,"th",10),t._uU(4,"Flink Memory Model"),t.qZA(),t.TgZ(5,"th",11),t._uU(6," Effective Configuration "),t._UZ(7,"i",12),t.qZA(),t.TgZ(8,"th",11),t._uU(9,"Metric"),t.qZA(),t.qZA(),t.qZA(),t.TgZ(10,"tbody"),t.TgZ(11,"tr"),t.TgZ(12,"td",13),t._UZ(13,"img",14),t.qZA(),t.TgZ(14,"td",11),t._uU(15,"JVM Heap"),t.qZA(),t.TgZ(16,"td"),t._uU(17),t.ALo(18,"humanizeBytes"),t.ALo(19,"parseInt"),t.qZA(),t.TgZ(20,"td"),t._UZ(21,"nz-progress",15),t.ALo(22,"number"),t._uU(23),t.ALo(24,"humanizeBytes"),t.ALo(25,"humanizeBytes"),t._UZ(26,"i",16),t.qZA(),t.qZA(),t.TgZ(27,"tr"),t.TgZ(28,"td",11),t._uU(29,"Off-Heap Memory"),t.qZA(),t.TgZ(30,"td"),t._uU(31),t.ALo(32,"humanizeBytes"),t.ALo(33,"parseInt"),t.qZA(),t.TgZ(34,"td"),t._UZ(35,"i",17),t.qZA(),t.qZA(),t.TgZ(36,"tr"),t.TgZ(37,"td",11),t._uU(38,"JVM Metaspace"),t.qZA(),t.TgZ(39,"td"),t._uU(40),t.ALo(41,"humanizeBytes"),t.ALo(42,"parseInt"),t.qZA(),t.TgZ(43,"td"),t._UZ(44,"nz-progress",15),t.ALo(45,"number"),t._uU(46),t.ALo(47,"humanizeBytes"),t.ALo(48,"humanizeBytes"),t.qZA(),t.qZA(),t.TgZ(49,"tr"),t.TgZ(50,"td",11),t._uU(51,"JVM Overhead"),t.qZA(),t.TgZ(52,"td"),t.YNc(53,rt,4,5,"ng-container",18),t.YNc(54,st,3,2,"ng-template",null,19,t.W1O),t.qZA(),t.TgZ(56,"td"),t._UZ(57,"i",17),t.qZA(),t.qZA(),t.qZA(),t.qZA()),2&n){const o=t.MAs(55),e=t.oxw();t.Q6J("nzWidthConfig",t.DdM(38,lt)),t.xp6(17),t.Oqu(t.lcZ(18,12,t.lcZ(19,14,e.jmConfig["jobmanager.memory.heap.size"]))),t.xp6(4),t.Q6J("nzPercent",+t.xi3(22,16,e.metrics["Status.JVM.Memory.Heap.Used"]/e.metrics["Status.JVM.Memory.Heap.Max"]*100,"1.0-2")),t.xp6(2),t.AsE(" ",t.lcZ(24,19,e.metrics["Status.JVM.Memory.Heap.Used"])," / ",t.lcZ(25,21,e.metrics["Status.JVM.Memory.Heap.Max"])," "),t.xp6(8),t.Oqu(t.lcZ(32,23,t.lcZ(33,25,e.jmConfig["jobmanager.memory.off-heap.size"]))),t.xp6(9),t.Oqu(t.lcZ(41,27,t.lcZ(42,29,e.jmConfig["jobmanager.memory.jvm-metaspace.size"]))),t.xp6(4),t.Q6J("nzPercent",+t.xi3(45,31,e.metrics["Status.JVM.Memory.Metaspace.Used"]/e.metrics["Status.JVM.Memory.Metaspace.Max"]*100,"1.0-2")),t.xp6(2),t.AsE(" ",t.lcZ(47,34,e.metrics["Status.JVM.Memory.Metaspace.Used"])," / ",t.lcZ(48,36,e.metrics["Status.JVM.Memory.Metaspace.Max"])," "),t.xp6(7),t.Q6J("ngIf",e.jmConfig["jobmanager.memory.jvm-overhead.min"]===e.jmConfig["jobmanager.memory.jvm-overhead.max"])("ngIfElse",o)}}function gt(n,i){if(1&n&&(t.TgZ(0,"tr"),t.TgZ(1,"td"),t.TgZ(2,"strong"),t._uU(3),t.qZA(),t.qZA(),t.TgZ(4,"td"),t._uU(5),t.qZA(),t.TgZ(6,"td"),t._uU(7),t.qZA(),t.qZA()),2&n){const o=i.$implicit;t.xp6(3),t.Oqu(o.name),t.xp6(2),t.Oqu(o.count||"-"),t.xp6(2),t.Oqu(o.time||"-")}}const ct=[{path:"",component:E,children:[{path:"metrics",component:(()=>{class n{constructor(o,e,l){this.jobManagerService=o,this.statusService=e,this.cdr=l,this.metrics={},this.jmConfig={},this.listOfGCName=[],this.listOfGCMetric=[],this.destroy$=new f.xQ}ngOnInit(){this.jobManagerService.loadConfig().pipe((0,Z.K)(()=>(0,M.of)([])),(0,h.R)(this.destroy$)).subscribe(o=>{for(const e of o)this.jmConfig[e.key]=e.value;this.cdr.markForCheck()}),this.statusService.refresh$.pipe((0,et.O)(!0),(0,h.R)(this.destroy$)).subscribe(()=>{this.jobManagerService.loadMetricsName().pipe((0,ot.U)(o=>o.filter(e=>-1!==e.indexOf("Status.JVM.GarbageCollector")))).subscribe(o=>{this.listOfGCName=o,this.cdr.markForCheck()}),this.jobManagerService.loadMetrics(["Status.JVM.Memory.Heap.Used","Status.JVM.Memory.Heap.Max","Status.JVM.Memory.Metaspace.Used","Status.JVM.Memory.Metaspace.Max","Status.JVM.Memory.Heap.Committed","Status.JVM.Memory.Heap.Used","Status.JVM.Memory.Heap.Max","Status.JVM.Memory.NonHeap.Committed","Status.JVM.Memory.NonHeap.Used","Status.JVM.Memory.NonHeap.Max","Status.JVM.Memory.Direct.Count","Status.JVM.Memory.Direct.MemoryUsed","Status.JVM.Memory.Direct.TotalCapacity","Status.JVM.Memory.Mapped.Count","Status.JVM.Memory.Mapped.MemoryUsed","Status.JVM.Memory.Mapped.TotalCapacity",...this.listOfGCName]).subscribe(o=>{this.metrics=o,this.listOfGCMetric=Array.from(new Set(this.listOfGCName.map(e=>e.replace("Status.JVM.GarbageCollector.","").replace(".Count","").replace(".Time","")))).map(e=>({name:e,count:this.metrics[`Status.JVM.GarbageCollector.${e}.Count`],time:this.metrics[`Status.JVM.GarbageCollector.${e}.Time`]})),this.cdr.markForCheck()})})}ngOnDestroy(){this.destroy$.next(),this.destroy$.complete()}}return n.\u0275fac=function(o){return new(o||n)(t.Y36(z.x),t.Y36(nt.B),t.Y36(t.sBO))},n.\u0275cmp=t.Xpm({type:n,selectors:[["flink-job-manager-metrics"]],decls:94,vars:54,consts:[["nzBordered","","class","flink-memory-model","nzTemplateMode","","nzSize","small",3,"nzWidthConfig",4,"ngIf"],["nzTitle","Advanced","nzSize","small"],["nz-row","",3,"nzGutter"],["nz-col","",3,"nzSpan"],["nzBordered","","nzTitle","JVM (Heap/Non-Heap) Memory",3,"nzTemplateMode","nzFrontPagination","nzShowPagination","nzSize"],["nzBordered","","nzTitle","Outside JVM Memory",3,"nzTemplateMode","nzFrontPagination","nzShowPagination","nzSize"],["nz-row","",1,"top-margin"],["nzBordered","","nzTitle","Garbage Collection",3,"nzTemplateMode","nzFrontPagination","nzShowPagination","nzSize"],[4,"ngFor","ngForOf"],["nzBordered","","nzTemplateMode","","nzSize","small",1,"flink-memory-model",3,"nzWidthConfig"],["colspan","2",1,"table-header"],[1,"table-header"],["nz-icon","","nz-tooltip","","nzTooltipTitle","This column shows the values that are actually used by Flink. These may differ from the configured values; Flink may adjust them to fit the actual setup, and automatically derives values that were not explicitly configured.","nzType","info-circle",1,"header-icon"],["rowspan","8",1,"table-header"],["src","assets/images/process_mem_model.svg"],["nzSize","small","nzStrokeLinecap","square","nzStatus","normal",3,"nzPercent"],["nz-icon","","nz-tooltip","","nzTooltipTitle","The maximum heap displayed might differ from the configured values depending on the used GC algorithm for this process.","nzType","info-circle"],["nz-icon","","nz-tooltip","","nzTooltipTitle","Metrics related to this configuration parameter cannot be monitored. Flink does not have full control over these memory pools","nzType","info-circle"],[4,"ngIf","ngIfElse"],["minMaxTemplate",""]],template:function(o,e){1&o&&(t.YNc(0,dt,58,39,"nz-table",0),t.TgZ(1,"nz-card",1),t.TgZ(2,"div",2),t.TgZ(3,"div",3),t.TgZ(4,"nz-table",4),t.TgZ(5,"thead"),t.TgZ(6,"tr"),t.TgZ(7,"th"),t._uU(8,"Type"),t.qZA(),t.TgZ(9,"th"),t._uU(10,"Committed"),t.qZA(),t.TgZ(11,"th"),t._uU(12,"Used"),t.qZA(),t.TgZ(13,"th"),t._uU(14,"Maximum"),t.qZA(),t.qZA(),t.qZA(),t.TgZ(15,"tbody"),t.TgZ(16,"tr"),t.TgZ(17,"td"),t.TgZ(18,"strong"),t._uU(19,"Heap"),t.qZA(),t.qZA(),t.TgZ(20,"td"),t._uU(21),t.ALo(22,"humanizeBytes"),t.qZA(),t.TgZ(23,"td"),t._uU(24),t.ALo(25,"humanizeBytes"),t.qZA(),t.TgZ(26,"td"),t._uU(27),t.ALo(28,"humanizeBytes"),t.qZA(),t.qZA(),t.TgZ(29,"tr"),t.TgZ(30,"td"),t.TgZ(31,"strong"),t._uU(32,"Non-Heap"),t.qZA(),t.qZA(),t.TgZ(33,"td"),t._uU(34),t.ALo(35,"humanizeBytes"),t.qZA(),t.TgZ(36,"td"),t._uU(37),t.ALo(38,"humanizeBytes"),t.qZA(),t.TgZ(39,"td"),t._uU(40),t.ALo(41,"humanizeBytes"),t.qZA(),t.qZA(),t.qZA(),t.qZA(),t.qZA(),t.TgZ(42,"div",3),t.TgZ(43,"nz-table",5),t.TgZ(44,"thead"),t.TgZ(45,"tr"),t.TgZ(46,"th"),t._uU(47,"Type"),t.qZA(),t.TgZ(48,"th"),t._uU(49,"Count"),t.qZA(),t.TgZ(50,"th"),t._uU(51,"Used"),t.qZA(),t.TgZ(52,"th"),t._uU(53,"Capacity"),t.qZA(),t.qZA(),t.qZA(),t.TgZ(54,"tbody"),t.TgZ(55,"tr"),t.TgZ(56,"td"),t.TgZ(57,"strong"),t._uU(58,"Direct"),t.qZA(),t.qZA(),t.TgZ(59,"td"),t._uU(60),t.ALo(61,"number"),t.qZA(),t.TgZ(62,"td"),t._uU(63),t.ALo(64,"humanizeBytes"),t.qZA(),t.TgZ(65,"td"),t._uU(66),t.ALo(67,"humanizeBytes"),t.qZA(),t.qZA(),t.TgZ(68,"tr"),t.TgZ(69,"td"),t.TgZ(70,"strong"),t._uU(71,"Mapped"),t.qZA(),t.qZA(),t.TgZ(72,"td"),t._uU(73),t.ALo(74,"number"),t.qZA(),t.TgZ(75,"td"),t._uU(76),t.ALo(77,"humanizeBytes"),t.qZA(),t.TgZ(78,"td"),t._uU(79),t.ALo(80,"humanizeBytes"),t.qZA(),t.qZA(),t.qZA(),t.qZA(),t.qZA(),t.qZA(),t.TgZ(81,"div",6),t.TgZ(82,"div",3),t.TgZ(83,"nz-table",7),t.TgZ(84,"thead"),t.TgZ(85,"tr"),t.TgZ(86,"th"),t._uU(87,"Collector"),t.qZA(),t.TgZ(88,"th"),t._uU(89,"Count"),t.qZA(),t.TgZ(90,"th"),t._uU(91,"Time"),t.qZA(),t.qZA(),t.qZA(),t.TgZ(92,"tbody"),t.YNc(93,gt,8,3,"tr",8),t.qZA(),t.qZA(),t.qZA(),t.qZA(),t.qZA()),2&o&&(t.Q6J("ngIf",e.metrics),t.xp6(2),t.Q6J("nzGutter",16),t.xp6(1),t.Q6J("nzSpan",12),t.xp6(1),t.Q6J("nzTemplateMode",!0)("nzFrontPagination",!1)("nzShowPagination",!1)("nzSize","small"),t.xp6(17),t.Oqu(t.lcZ(22,30,e.metrics["Status.JVM.Memory.Heap.Committed"])),t.xp6(3),t.Oqu(t.lcZ(25,32,e.metrics["Status.JVM.Memory.Heap.Used"])),t.xp6(3),t.Oqu(t.lcZ(28,34,e.metrics["Status.JVM.Memory.Heap.Max"])),t.xp6(7),t.Oqu(t.lcZ(35,36,e.metrics["Status.JVM.Memory.NonHeap.Committed"])),t.xp6(3),t.Oqu(t.lcZ(38,38,e.metrics["Status.JVM.Memory.NonHeap.Used"])),t.xp6(3),t.Oqu(t.lcZ(41,40,e.metrics["Status.JVM.Memory.NonHeap.Max"])),t.xp6(2),t.Q6J("nzSpan",12),t.xp6(1),t.Q6J("nzTemplateMode",!0)("nzFrontPagination",!1)("nzShowPagination",!1)("nzSize","small"),t.xp6(17),t.Oqu(t.lcZ(61,42,e.metrics["Status.JVM.Memory.Direct.Count"])),t.xp6(3),t.Oqu(t.lcZ(64,44,e.metrics["Status.JVM.Memory.Direct.MemoryUsed"])),t.xp6(3),t.Oqu(t.lcZ(67,46,e.metrics["Status.JVM.Memory.Direct.TotalCapacity"])),t.xp6(7),t.Oqu(t.lcZ(74,48,e.metrics["Status.JVM.Memory.Mapped.Count"])),t.xp6(3),t.Oqu(t.lcZ(77,50,e.metrics["Status.JVM.Memory.Mapped.MemoryUsed"])),t.xp6(3),t.Oqu(t.lcZ(80,52,e.metrics["Status.JVM.Memory.Mapped.TotalCapacity"])),t.xp6(3),t.Q6J("nzSpan",24),t.xp6(1),t.Q6J("nzTemplateMode",!0)("nzFrontPagination",!1)("nzShowPagination",!1)("nzSize","small"),t.xp6(10),t.Q6J("ngForOf",e.listOfGCMetric))},directives:[p.O5,c.N8,c.Om,c.$Z,c.Uo,c._C,u.Ls,q.SY,c.p0,v.M,J.bd,g.SK,g.t3,p.sg],pipes:[at.E,it,p.JJ],styles:["[_nghost-%COMP%]{display:flex;flex:1;flex-direction:column;overflow:auto;padding:16px}[_nghost-%COMP%]     .ant-table-cell{font-size:12px}[_nghost-%COMP%]   .header-icon[_ngcontent-%COMP%]{position:relative;top:1px}[_nghost-%COMP%]   nz-progress[_ngcontent-%COMP%]{display:block;width:90%}[_nghost-%COMP%]   nz-progress[_ngcontent-%COMP%]     .ant-progress-inner{border-radius:0}[_nghost-%COMP%]   .flink-memory-model[_ngcontent-%COMP%]{margin-bottom:16px}[_nghost-%COMP%]   .flink-memory-model[_ngcontent-%COMP%]   .table-header[_ngcontent-%COMP%]{font-weight:500}[_nghost-%COMP%]   .flink-memory-model[_ngcontent-%COMP%]     .ant-table-small tr:hover td, [_nghost-%COMP%]   .flink-memory-model[_ngcontent-%COMP%]     .ant-table-small tr:hover th{background:transparent}[_nghost-%COMP%]   .top-margin[_ngcontent-%COMP%]{margin-top:16px}"],changeDetection:0}),n})(),data:{path:"metrics"}},{path:"config",component:$,data:{path:"config"}},{path:"logs",component:tt,data:{path:"logs"}},{path:"stdout",component:(()=>{class n{constructor(o,e,l,s){this.jobManagerService=o,this.configService=e,this.cdr=l,this.moduleConfig=s,this.downloadName="jobmanager_stdout",this.stdout="",this.loading=!0,this.destroy$=new f.xQ,this.editorOptions=s.editorOptions||C.editorOptions,this.downloadUrl=`${this.configService.BASE_URL}/jobmanager/stdout`}ngOnInit(){this.reload()}ngOnDestroy(){this.destroy$.next(),this.destroy$.complete()}reload(){this.loading=!0,this.cdr.markForCheck(),this.jobManagerService.loadStdout().pipe((0,Z.K)(()=>(0,M.of)("")),(0,h.R)(this.destroy$)).subscribe(o=>{this.loading=!1,this.stdout=o,this.cdr.markForCheck()})}}return n.\u0275fac=function(o){return new(o||n)(t.Y36(z.x),t.Y36(P.E),t.Y36(t.sBO),t.Y36(O))},n.\u0275cmp=t.Xpm({type:n,selectors:[["flink-job-manager-stdout"]],decls:2,vars:5,consts:[["flinkAutoResize","",3,"nzLoading","ngModel","nzEditorOption"],[3,"downloadHref","downloadName","reload"]],template:function(o,e){1&o&&(t._UZ(0,"nz-code-editor",0),t.TgZ(1,"flink-addon-compact",1),t.NdJ("reload",function(){return e.reload()}),t.qZA()),2&o&&(t.Q6J("nzLoading",e.loading)("ngModel",e.stdout)("nzEditorOption",e.editorOptions),t.xp6(1),t.Q6J("downloadHref",e.downloadUrl)("downloadName",e.downloadName))},directives:[m.XZ,U.w,d.JJ,d.On,j.N],styles:["[_nghost-%COMP%]{position:relative;display:flex;flex:1}[_nghost-%COMP%]   nz-code-editor[_ngcontent-%COMP%]{position:absolute;top:0;right:0;bottom:0;left:0}"],changeDetection:0}),n})(),data:{path:"stdout"}},{path:"log",component:X,data:{path:"log"}},{path:"log/:logName",component:H,data:{path:"log"}},{path:"thread-dump",component:(()=>{class n{constructor(o,e,l,s){this.jobManagerService=o,this.configService=e,this.cdr=l,this.moduleConfig=s,this.downloadName="jobmanager_thread_dump",this.dump="",this.loading=!0,this.destroy$=new f.xQ,this.editorOptions=s.editorOptions||C.editorOptions,this.downloadUrl=`${this.configService.BASE_URL}/jobmanager/thread-dump`}ngOnInit(){this.reload()}ngOnDestroy(){this.destroy$.next(),this.destroy$.complete()}reload(){this.loading=!0,this.cdr.markForCheck(),this.jobManagerService.loadThreadDump().pipe((0,Z.K)(()=>(0,M.of)("")),(0,h.R)(this.destroy$)).subscribe(o=>{this.loading=!1,this.dump=o,this.cdr.markForCheck()})}}return n.\u0275fac=function(o){return new(o||n)(t.Y36(z.x),t.Y36(P.E),t.Y36(t.sBO),t.Y36(O))},n.\u0275cmp=t.Xpm({type:n,selectors:[["flink-job-manager-thread-dump"]],decls:2,vars:5,consts:[["flinkAutoResize","",3,"nzLoading","ngModel","nzEditorOption"],[3,"downloadHref","downloadName","reload"]],template:function(o,e){1&o&&(t._UZ(0,"nz-code-editor",0),t.TgZ(1,"flink-addon-compact",1),t.NdJ("reload",function(){return e.reload()}),t.qZA()),2&o&&(t.Q6J("nzLoading",e.loading)("ngModel",e.dump)("nzEditorOption",e.editorOptions),t.xp6(1),t.Q6J("downloadHref",e.downloadUrl)("downloadName",e.downloadName))},directives:[m.XZ,U.w,d.JJ,d.On,j.N],styles:["[_nghost-%COMP%]{position:relative;flex:1}[_nghost-%COMP%]   nz-code-editor[_ngcontent-%COMP%]{position:absolute;top:0;right:0;bottom:0;left:0}"],changeDetection:0}),n})(),data:{path:"thread-dump"}},{path:"**",redirectTo:"metrics",pathMatch:"full"}]}];let mt=(()=>{class n{}return n.\u0275fac=function(o){return new(o||n)},n.\u0275mod=t.oAB({type:n}),n.\u0275inj=t.cJS({imports:[[y.Bz.forChild(ct)],y.Bz]}),n})(),pt=(()=>{class n{}return n.\u0275fac=function(o){return new(o||n)},n.\u0275mod=t.oAB({type:n}),n.\u0275inj=t.cJS({imports:[[p.ez,b.G,mt,c.HQ,v.W,J.vh,g.Jb,u.PV,q.cg,T.lt,m.qw,d.u5,x.q6,_.j,r.Xo]]}),n})()},94138:(F,S,a)=>{a.d(S,{x:()=>J});var p=a(40520),d=a(24850),b=a(5e3),T=a(70946);let J=(()=>{class m{constructor(r,g){this.httpClient=r,this.configService=g}loadConfig(){return this.httpClient.get(`${this.configService.BASE_URL}/jobmanager/config`)}loadEnvironment(){return this.httpClient.get(`${this.configService.BASE_URL}/jobmanager/environment`)}loadLogs(){return this.httpClient.get(`${this.configService.BASE_URL}/jobmanager/log`,{responseType:"text",headers:(new p.WM).append("Cache-Control","no-cache")})}loadStdout(){return this.httpClient.get(`${this.configService.BASE_URL}/jobmanager/stdout`,{responseType:"text",headers:(new p.WM).append("Cache-Control","no-cache")})}loadLogList(){return this.httpClient.get(`${this.configService.BASE_URL}/jobmanager/logs`).pipe((0,d.U)(r=>r.logs))}loadLog(r){const g=`${this.configService.BASE_URL}/jobmanager/logs/${r}`;return this.httpClient.get(g,{responseType:"text",headers:(new p.WM).append("Cache-Control","no-cache")}).pipe((0,d.U)(u=>({data:u,url:g})))}loadThreadDump(){return this.httpClient.get(`${this.configService.BASE_URL}/jobmanager/thread-dump`).pipe((0,d.U)(r=>r.threadInfos.map(g=>g.stringifiedThreadInfo).join("")))}loadMetricsName(){return this.httpClient.get(`${this.configService.BASE_URL}/jobmanager/metrics`).pipe((0,d.U)(r=>r.map(g=>g.id)))}loadMetrics(r){const g=r.join(",");return this.httpClient.get(`${this.configService.BASE_URL}/jobmanager/metrics?get=${g}`).pipe((0,d.U)(u=>{const v={};return u.forEach(_=>{v[_.id]=parseInt(_.value,10)}),v}))}loadHistoryServerConfig(r){return this.httpClient.get(`${this.configService.BASE_URL}/jobs/${r}/jobmanager/config`)}loadHistoryServerEnvironment(r){return this.httpClient.get(`${this.configService.BASE_URL}/jobs/${r}/jobmanager/environment`)}loadHistoryServerJobManagerLogUrl(r){return this.httpClient.get(`${this.configService.BASE_URL}/jobs/${r}/jobmanager/log-url`).pipe((0,d.U)(g=>g.url))}}return m.\u0275fac=function(r){return new(r||m)(b.LFG(p.eN),b.LFG(T.E))},m.\u0275prov=b.Yz7({token:m,factory:m.\u0275fac,providedIn:"root"}),m})()}}]);