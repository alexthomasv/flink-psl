"use strict";(self.webpackChunkflink=self.webpackChunkflink||[]).push([[445],{50445:(Tt,D,i)=>{i.r(D),i.d(D,{TaskManagerModule:()=>zt});var m=i(69808),u=i(93075),Q=i(90342),C=i(71758),O=i(77484),y=i(74450),S=i(63098),I=i(55737),q=i(41894),v=i(70647),F=i(24342),w=i(76559),r=i(70592),J=i(16695),p=i(30325),M=i(8929),Z=i(21086),x=i(61709),f=i(27221),h=i(7625),B=i(73925),t=i(5e3),U=i(22679),z=i(45695);let N=(()=>{class a{constructor(){this.size="default"}}return a.\u0275fac=function(e){return new(e||a)},a.\u0275cmp=t.Xpm({type:a,selectors:[["flink-blocked-badge"]],inputs:{size:"size"},decls:2,vars:2,consts:[[1,"badge"]],template:function(e,n){1&e&&(t.TgZ(0,"span",0),t._uU(1,"BLOCKED"),t.qZA()),2&e&&t.Tol(n.size)},styles:["[_nghost-%COMP%]   .badge[_ngcontent-%COMP%]{display:inline-flex;align-items:center;padding:0 4px;background-color:#ff4d4f;color:#fff;font-weight:500;cursor:default;transform:scale(.8)}[_nghost-%COMP%]   .badge.small[_ngcontent-%COMP%]{font-size:12px}[_nghost-%COMP%]   .badge.default[_ngcontent-%COMP%]{font-size:14px}"],changeDetection:0}),a})();var L=i(87764);function $(a,o){1&a&&t._UZ(0,"flink-blocked-badge",12)}function H(a,o){if(1&a){const e=t.EpF();t.ynx(0),t.TgZ(1,"tr",7),t.NdJ("click",function(){const g=t.CHM(e).$implicit;return t.oxw().navigateTo(g)}),t.TgZ(2,"td",8),t.TgZ(3,"em",9),t.TgZ(4,"a"),t._uU(5),t.qZA(),t.qZA(),t._UZ(6,"br"),t.TgZ(7,"em",9),t._uU(8),t.qZA(),t.YNc(9,$,1,0,"flink-blocked-badge",10),t.qZA(),t.TgZ(10,"td"),t._uU(11),t.qZA(),t.TgZ(12,"td"),t._uU(13),t.ALo(14,"date"),t.qZA(),t.TgZ(15,"td"),t._uU(16),t.qZA(),t.TgZ(17,"td"),t._uU(18),t.qZA(),t.TgZ(19,"td"),t._uU(20),t.qZA(),t.TgZ(21,"td"),t._uU(22),t.ALo(23,"humanizeBytes"),t.qZA(),t.TgZ(24,"td"),t._uU(25),t.ALo(26,"humanizeBytes"),t.qZA(),t.TgZ(27,"td",11),t._uU(28),t.ALo(29,"humanizeBytes"),t.qZA(),t.qZA(),t.BQk()}if(2&a){const e=o.$implicit;t.xp6(5),t.Oqu(e.id),t.xp6(3),t.Oqu(e.path),t.xp6(1),t.Q6J("ngIf",e.blocked),t.xp6(2),t.Oqu(e.dataPort),t.xp6(2),t.Oqu(t.xi3(14,14,e.timeSinceLastHeartbeat,"yyyy-MM-dd HH:mm:ss")),t.xp6(3),t.Oqu(e.slotsNumber),t.xp6(2),t.Oqu(e.freeSlots),t.xp6(2),t.Oqu(e.hardware.cpuCores),t.xp6(1),t.uIk("title",e.hardware.physicalMemory+" bytes"),t.xp6(1),t.hij(" ",t.lcZ(23,17,e.hardware.physicalMemory)," "),t.xp6(2),t.uIk("title",e.hardware.freeMemory+" bytes"),t.xp6(1),t.hij(" ",t.lcZ(26,19,e.hardware.freeMemory)," "),t.xp6(2),t.uIk("title",e.hardware.managedMemory+" bytes"),t.xp6(1),t.hij(" ",t.lcZ(29,21,e.hardware.managedMemory)," ")}}const Y=function(){return{x:"1250px",y:"calc(100vh - 260px)"}};function T(a){return(o,e)=>a(o)>a(e)?1:-1}let R=(()=>{class a{constructor(e,n,s,g,c){this.cdr=e,this.statusService=n,this.taskManagerService=s,this.router=g,this.activatedRoute=c,this.trackById=(d,l)=>l.id,this.narrowType=(0,B.t)(),this.sortDataPortFn=T(d=>d.dataPort),this.sortHeartBeatFn=T(d=>d.timeSinceLastHeartbeat),this.sortSlotsNumberFn=T(d=>d.slotsNumber),this.sortFreeSlotsFn=T(d=>d.freeSlots),this.sortCpuCoresFn=T(d=>{var l;return null===(l=d.hardware)||void 0===l?void 0:l.cpuCores}),this.sortPhysicalMemoryFn=T(d=>{var l;return null===(l=d.hardware)||void 0===l?void 0:l.physicalMemory}),this.sortFreeMemoryFn=T(d=>{var l;return null===(l=d.hardware)||void 0===l?void 0:l.freeMemory}),this.sortManagedMemoryFn=T(d=>{var l;return null===(l=d.hardware)||void 0===l?void 0:l.managedMemory}),this.listOfTaskManager=[],this.isLoading=!0,this.destroy$=new M.xQ}navigateTo(e){this.router.navigate([e.id,"metrics"],{relativeTo:this.activatedRoute,queryParamsHandling:"preserve"}).then()}ngOnInit(){this.statusService.refresh$.pipe((0,x.zg)(()=>this.taskManagerService.loadManagers().pipe((0,f.K)(()=>(0,Z.of)([])))),(0,h.R)(this.destroy$)).subscribe(e=>{this.isLoading=!1,this.listOfTaskManager=e,this.cdr.markForCheck()})}ngOnDestroy(){this.destroy$.next(),this.destroy$.complete()}}return a.\u0275fac=function(e){return new(e||a)(t.Y36(t.sBO),t.Y36(U.B),t.Y36(z.k),t.Y36(p.F0),t.Y36(p.gz))},a.\u0275cmp=t.Xpm({type:a,selectors:[["flink-task-manager-list"]],decls:25,vars:28,consts:[[3,"nzBordered","nzTitle","nzLoading"],[3,"nzSize","nzScroll","nzData","nzFrontPagination","nzShowPagination"],["table",""],["nzLeft","",3,"nzWidth"],[3,"nzSortFn","nzWidth"],["nzRight","",3,"nzSortFn","nzWidth"],[4,"ngFor","ngForOf","ngForTrackBy"],[1,"clickable",3,"click"],["nzLeft",""],[1,"break-word"],["size","small",4,"ngIf"],["nzRight",""],["size","small"]],template:function(e,n){if(1&e&&(t.TgZ(0,"nz-card",0),t.TgZ(1,"nz-table",1,2),t.TgZ(3,"thead"),t.TgZ(4,"tr"),t.TgZ(5,"th",3),t._uU(6,"Path, ID"),t.qZA(),t.TgZ(7,"th",4),t._uU(8,"Data Port"),t.qZA(),t.TgZ(9,"th",4),t._uU(10,"Last Heartbeat"),t.qZA(),t.TgZ(11,"th",4),t._uU(12,"All Slots"),t.qZA(),t.TgZ(13,"th",4),t._uU(14,"Free Slots"),t.qZA(),t.TgZ(15,"th",4),t._uU(16,"CPU Cores"),t.qZA(),t.TgZ(17,"th",4),t._uU(18,"Physical MEM"),t.qZA(),t.TgZ(19,"th",4),t._uU(20,"JVM Heap Size"),t.qZA(),t.TgZ(21,"th",5),t._uU(22,"Flink Managed MEM"),t.qZA(),t.qZA(),t.qZA(),t.TgZ(23,"tbody"),t.YNc(24,H,30,23,"ng-container",6),t.qZA(),t.qZA(),t.qZA()),2&e){const s=t.MAs(2);t.Q6J("nzBordered",!1)("nzTitle","Task Managers")("nzLoading",n.isLoading),t.xp6(1),t.Q6J("nzSize","small")("nzScroll",t.DdM(27,Y))("nzData",n.listOfTaskManager)("nzFrontPagination",!1)("nzShowPagination",!1),t.xp6(4),t.Q6J("nzWidth","280px"),t.xp6(2),t.Q6J("nzSortFn",n.sortDataPortFn)("nzWidth","100px"),t.xp6(2),t.Q6J("nzSortFn",n.sortHeartBeatFn)("nzWidth","160px"),t.xp6(2),t.Q6J("nzSortFn",n.sortSlotsNumberFn)("nzWidth","90px"),t.xp6(2),t.Q6J("nzSortFn",n.sortFreeSlotsFn)("nzWidth","100px"),t.xp6(2),t.Q6J("nzSortFn",n.sortCpuCoresFn)("nzWidth","110px"),t.xp6(2),t.Q6J("nzSortFn",n.sortPhysicalMemoryFn)("nzWidth","120px"),t.xp6(2),t.Q6J("nzSortFn",n.sortFreeMemoryFn)("nzWidth","130px"),t.xp6(2),t.Q6J("nzSortFn",n.sortManagedMemoryFn)("nzWidth","160px"),t.xp6(3),t.Q6J("ngForOf",n.narrowType(s.data))("ngForTrackBy",n.trackById)}},directives:[O.bd,r.N8,r.Om,r.$Z,r.Uo,r._C,r.qn,r.qD,r.p0,m.sg,m.O5,N],pipes:[m.uU,L.E],styles:["[_nghost-%COMP%]   .break-word[_ngcontent-%COMP%]{word-break:break-all}[_nghost-%COMP%]     .ant-table-cell{font-size:12px}"],changeDetection:0}),a})();const k={editorOptions:i(81709).i,routerFactories:{taskManager:a=>[a]}},_=new t.OlP("task-manager-module-config",{providedIn:"root",factory:()=>k});var V=i(15160),A=i(51014);const j=function(a){return["/","task-manager",a,"log-list"]};let W=(()=>{class a{constructor(e,n,s,g){this.taskManagerService=e,this.cdr=n,this.activatedRoute=s,this.moduleConfig=g,this.logs="",this.logName="",this.downloadUrl="",this.isLoading=!1,this.isFullScreen=!1,this.destroy$=new M.xQ,this.editorOptions=g.editorOptions||k.editorOptions}ngOnInit(){this.logName=this.activatedRoute.snapshot.params.logName,this.taskManagerId=this.activatedRoute.parent.snapshot.params.taskManagerId,this.reloadLog()}ngOnDestroy(){this.destroy$.next(),this.destroy$.complete()}reloadLog(){this.isLoading=!0,this.cdr.markForCheck(),this.taskManagerService.loadLog(this.taskManagerId,this.logName).pipe((0,h.R)(this.destroy$)).subscribe(e=>{this.logs=e.data,this.downloadUrl=e.url,this.isLoading=!1,this.cdr.markForCheck()})}toggleFullScreen(e){this.isFullScreen=e,this.cdr.markForCheck()}}return a.\u0275fac=function(e){return new(e||a)(t.Y36(z.k),t.Y36(t.sBO),t.Y36(p.gz),t.Y36(_))},a.\u0275cmp=t.Xpm({type:a,selectors:[["flink-task-manager-log-detail"]],hostVars:2,hostBindings:function(e,n){2&e&&t.ekj("full-screen",n.isFullScreen)},decls:11,vars:10,consts:[[1,"breadcrumb"],[3,"routerLink"],["nz-icon","","nzType","rollback","nzTheme","outline"],[3,"isLoading","downloadHref","downloadName","reload","fullScreen"],[1,"editor-container"],["flinkAutoResize","",3,"nzLoading","ngModel","nzEditorOption"]],template:function(e,n){1&e&&(t.TgZ(0,"div",0),t.TgZ(1,"nz-breadcrumb"),t.TgZ(2,"nz-breadcrumb-item"),t.TgZ(3,"a",1),t._UZ(4,"i",2),t._uU(5," Log List "),t.qZA(),t.qZA(),t.TgZ(6,"nz-breadcrumb-item"),t._uU(7),t.qZA(),t.qZA(),t.TgZ(8,"flink-addon-inline",3),t.NdJ("reload",function(){return n.reloadLog()})("fullScreen",function(g){return n.toggleFullScreen(g)}),t.qZA(),t.qZA(),t.TgZ(9,"div",4),t._UZ(10,"nz-code-editor",5),t.qZA()),2&e&&(t.xp6(3),t.Q6J("routerLink",t.VKq(8,j,n.taskManagerId)),t.xp6(4),t.hij(" ",n.logName," "),t.xp6(1),t.Q6J("isLoading",n.isLoading)("downloadHref",n.downloadUrl)("downloadName",n.logName),t.xp6(2),t.Q6J("nzLoading",n.isLoading)("ngModel",n.logs)("nzEditorOption",n.editorOptions))},directives:[C.Dg,C.MO,p.yS,v.Ls,V.G,y.XZ,A.w,u.JJ,u.On],styles:["[_nghost-%COMP%]{display:flex;flex:1;flex-flow:column nowrap}.full-screen[_nghost-%COMP%]{position:fixed;top:0;right:0;bottom:0;left:0;z-index:99;background:#fff}[_nghost-%COMP%]   .editor-container[_ngcontent-%COMP%]{position:relative;flex:1}[_nghost-%COMP%]   .editor-container[_ngcontent-%COMP%]   nz-code-editor[_ngcontent-%COMP%]{position:absolute;top:0;right:0;bottom:0;left:0}[_nghost-%COMP%]   .breadcrumb[_ngcontent-%COMP%]{position:relative;padding:12px 24px;border-bottom:1px solid #f0f0f0;background:#fff}[_nghost-%COMP%]   flink-addon-inline[_ngcontent-%COMP%]{position:absolute;top:0;right:12px;line-height:47px}"],changeDetection:0}),a})();var K=i(40870);function X(a,o){if(1&a&&(t.ynx(0),t.TgZ(1,"tr"),t.TgZ(2,"td"),t.TgZ(3,"a",4),t._uU(4),t.qZA(),t.qZA(),t.TgZ(5,"td"),t._uU(6),t.ALo(7,"humanizeDate"),t.qZA(),t.TgZ(8,"td"),t._uU(9),t.ALo(10,"number"),t.qZA(),t.qZA(),t.BQk()),2&a){const e=o.ngIf,n=t.oxw(2);t.xp6(3),t.Q6J("queryParamsHandling","preserve")("routerLink",n.logRouterFactory(e.name)),t.xp6(1),t.hij(" ",e.name," "),t.xp6(2),t.Oqu(t.xi3(7,5,e.mtime,"yyyy-MM-dd HH:mm:ss")),t.xp6(3),t.Oqu(t.xi3(10,8,e.size/1024,"1.0-2"))}}function G(a,o){if(1&a&&t.YNc(0,X,11,11,"ng-container",3),2&a){const e=o.$implicit,n=t.oxw();t.Q6J("ngIf",n.narrowLogData(e))}}const tt=function(){return["50%","25%","25%"]},et=function(){return{y:"calc( 100% - 36px )"}};let nt=(()=>{class a{constructor(e,n,s,g){var c;this.taskManagerService=e,this.activatedRoute=n,this.cdr=s,this.moduleConfig=g,this.trackByName=(d,l)=>l.name,this.narrowLogData=(0,B.t)(),this.sortLastModifiedTimeFn=(d,l)=>d.mtime-l.mtime,this.sortSizeFn=(d,l)=>d.size-l.size,this.listOfLog=[],this.isLoading=!0,this.destroy$=new M.xQ,this.logRouterFactory=(null===(c=g.routerFactories)||void 0===c?void 0:c.taskManager)||k.routerFactories.taskManager}ngOnInit(){this.taskManagerService.loadLogList(this.activatedRoute.parent.snapshot.params.taskManagerId).pipe((0,f.K)(()=>(0,Z.of)([])),(0,h.R)(this.destroy$)).subscribe(n=>{this.listOfLog=n,this.isLoading=!1,this.cdr.markForCheck()})}ngOnDestroy(){this.destroy$.next(),this.destroy$.complete()}}return a.\u0275fac=function(e){return new(e||a)(t.Y36(z.k),t.Y36(p.gz),t.Y36(t.sBO),t.Y36(_))},a.\u0275cmp=t.Xpm({type:a,selectors:[["flink-task-manager-log-list"]],decls:11,vars:15,consts:[["nzBordered","",3,"nzSize","nzData","nzLoading","nzFrontPagination","nzShowPagination","nzVirtualItemSize","nzVirtualForTrackBy","nzVirtualMinBufferPx","nzVirtualMaxBufferPx","nzWidthConfig","nzScroll"],[3,"nzSortFn"],["nz-virtual-scroll",""],[4,"ngIf"],[3,"queryParamsHandling","routerLink"]],template:function(e,n){1&e&&(t.TgZ(0,"nz-table",0),t.TgZ(1,"thead"),t.TgZ(2,"tr"),t.TgZ(3,"th"),t._uU(4,"Log Name"),t.qZA(),t.TgZ(5,"th",1),t._uU(6,"Last Modified Time"),t.qZA(),t.TgZ(7,"th",1),t._uU(8,"Size (KB)"),t.qZA(),t.qZA(),t.qZA(),t.TgZ(9,"tbody"),t.YNc(10,G,1,1,"ng-template",2),t.qZA(),t.qZA()),2&e&&(t.Q6J("nzSize","small")("nzData",n.listOfLog)("nzLoading",n.isLoading)("nzFrontPagination",!1)("nzShowPagination",!1)("nzVirtualItemSize",36)("nzVirtualForTrackBy",n.trackByName)("nzVirtualMinBufferPx",480)("nzVirtualMaxBufferPx",480)("nzWidthConfig",t.DdM(13,tt))("nzScroll",t.DdM(14,et)),t.xp6(5),t.Q6J("nzSortFn",n.sortLastModifiedTimeFn),t.xp6(2),t.Q6J("nzSortFn",n.sortSizeFn))},directives:[r.N8,r.Om,r.$Z,r.Uo,r._C,r.qD,r.p0,r.zu,m.O5,p.yS],pipes:[K.c,m.JJ],styles:["[_nghost-%COMP%]{display:flex;flex:1}[_nghost-%COMP%]     .ant-table-cell{font-size:12px}[_nghost-%COMP%]     ::-webkit-scrollbar{display:none}[_nghost-%COMP%]     nz-table, [_nghost-%COMP%]     nz-spin, [_nghost-%COMP%]     cdk-virtual-scroll-viewport, [_nghost-%COMP%]     nz-table-inner-scroll, [_nghost-%COMP%]     .ant-spin-container, [_nghost-%COMP%]     .ant-table{height:100%}"],changeDetection:0}),a})();var P=i(70946),b=i(32157);let at=(()=>{class a{constructor(e,n,s,g,c){this.taskManagerService=e,this.configService=n,this.activatedRoute=s,this.cdr=g,this.moduleConfig=c,this.logs="",this.loading=!0,this.downloadUrl="",this.downloadName="",this.destroy$=new M.xQ,this.editorOptions=c.editorOptions||k.editorOptions}ngOnInit(){this.taskManagerId=this.activatedRoute.parent.snapshot.params.taskManagerId,this.downloadUrl=`${this.configService.BASE_URL}/taskmanagers/${this.taskManagerId}/log`,this.downloadName=`taskmanager_${this.taskManagerId}_log`,this.reload()}ngOnDestroy(){this.destroy$.next(),this.destroy$.complete()}reload(){this.loading=!0,this.cdr.markForCheck(),this.taskManagerService.loadLogs(this.taskManagerId).pipe((0,f.K)(()=>(0,Z.of)("")),(0,h.R)(this.destroy$)).subscribe(e=>{this.loading=!1,this.logs=e,this.cdr.markForCheck()})}}return a.\u0275fac=function(e){return new(e||a)(t.Y36(z.k),t.Y36(P.E),t.Y36(p.gz),t.Y36(t.sBO),t.Y36(_))},a.\u0275cmp=t.Xpm({type:a,selectors:[["flink-task-manager-logs"]],decls:2,vars:5,consts:[["flinkAutoResize","",3,"nzLoading","ngModel","nzEditorOption"],[3,"downloadHref","downloadName","reload"]],template:function(e,n){1&e&&(t._UZ(0,"nz-code-editor",0),t.TgZ(1,"flink-addon-compact",1),t.NdJ("reload",function(){return n.reload()}),t.qZA()),2&e&&(t.Q6J("nzLoading",n.loading)("ngModel",n.logs)("nzEditorOption",n.editorOptions),t.xp6(1),t.Q6J("downloadHref",n.downloadUrl)("downloadName",n.downloadName))},directives:[y.XZ,A.w,u.JJ,u.On,b.N],styles:["[_nghost-%COMP%]{position:relative;flex:1;border:1px solid #f0f0f0}[_nghost-%COMP%]   nz-code-editor[_ngcontent-%COMP%]{position:absolute;top:0;right:0;bottom:0;left:0}"],changeDetection:0}),a})();var ot=i(1059);const it=function(){return["220px","200px","200px",null]};function st(a,o){if(1&a&&(t.TgZ(0,"nz-table",11),t.TgZ(1,"thead"),t.TgZ(2,"tr"),t.TgZ(3,"th",12),t._uU(4,"Flink Memory Model"),t.qZA(),t.TgZ(5,"th",13),t._uU(6," Effective Configuration "),t._UZ(7,"i",14),t.qZA(),t.TgZ(8,"th",13),t._uU(9,"Metric"),t.qZA(),t.qZA(),t.qZA(),t.TgZ(10,"tbody"),t.TgZ(11,"tr"),t.TgZ(12,"td",15),t._UZ(13,"img",16),t.qZA(),t.TgZ(14,"td",13),t._uU(15,"Framework Heap"),t.qZA(),t.TgZ(16,"td"),t._uU(17),t.ALo(18,"humanizeBytes"),t.qZA(),t.TgZ(19,"td",17),t._UZ(20,"nz-progress",18),t.ALo(21,"number"),t._uU(22),t.ALo(23,"humanizeBytes"),t.ALo(24,"humanizeBytes"),t._UZ(25,"i",19),t.qZA(),t.qZA(),t.TgZ(26,"tr"),t.TgZ(27,"td",13),t._uU(28,"Task Heap"),t.qZA(),t.TgZ(29,"td"),t._uU(30),t.ALo(31,"humanizeBytes"),t.qZA(),t.qZA(),t.TgZ(32,"tr"),t.TgZ(33,"td",13),t._uU(34,"Managed Memory"),t.qZA(),t.TgZ(35,"td"),t._uU(36),t.ALo(37,"humanizeBytes"),t.qZA(),t.TgZ(38,"td"),t._UZ(39,"nz-progress",18),t.ALo(40,"number"),t._uU(41),t.ALo(42,"humanizeBytes"),t.ALo(43,"humanizeBytes"),t.qZA(),t.qZA(),t.TgZ(44,"tr"),t.TgZ(45,"td",13),t._uU(46,"Framework Off-Heap"),t.qZA(),t.TgZ(47,"td"),t._uU(48),t.ALo(49,"humanizeBytes"),t.qZA(),t.TgZ(50,"td",17),t._UZ(51,"i",20),t.qZA(),t.qZA(),t.TgZ(52,"tr"),t.TgZ(53,"td",13),t._uU(54,"Task Off-Heap"),t.qZA(),t.TgZ(55,"td"),t._uU(56),t.ALo(57,"humanizeBytes"),t.qZA(),t.qZA(),t.TgZ(58,"tr"),t.TgZ(59,"td",13),t._uU(60,"Network"),t.qZA(),t.TgZ(61,"td"),t._uU(62),t.ALo(63,"humanizeBytes"),t.qZA(),t.TgZ(64,"td"),t._UZ(65,"nz-progress",18),t.ALo(66,"number"),t._uU(67),t.ALo(68,"humanizeBytes"),t.ALo(69,"humanizeBytes"),t.qZA(),t.qZA(),t.TgZ(70,"tr"),t.TgZ(71,"td",13),t._uU(72,"JVM Metaspace"),t.qZA(),t.TgZ(73,"td"),t._uU(74),t.ALo(75,"humanizeBytes"),t.qZA(),t.TgZ(76,"td"),t._UZ(77,"nz-progress",18),t.ALo(78,"number"),t._uU(79),t.ALo(80,"humanizeBytes"),t.ALo(81,"humanizeBytes"),t.qZA(),t.qZA(),t.TgZ(82,"tr"),t.TgZ(83,"td",13),t._uU(84,"JVM Overhead"),t.qZA(),t.TgZ(85,"td"),t._uU(86),t.ALo(87,"humanizeBytes"),t.qZA(),t.TgZ(88,"td"),t._UZ(89,"i",20),t.qZA(),t.qZA(),t.qZA(),t.qZA()),2&a){const e=t.oxw();t.Q6J("nzWidthConfig",t.DdM(65,it)),t.xp6(17),t.Oqu(t.lcZ(18,21,null==e.taskManagerDetail?null:e.taskManagerDetail.memoryConfiguration.frameworkHeap)),t.xp6(3),t.Q6J("nzPercent",+t.xi3(21,23,e.metrics["Status.JVM.Memory.Heap.Used"]/e.metrics["Status.JVM.Memory.Heap.Max"]*100,"1.0-2")),t.xp6(2),t.AsE(" ",t.lcZ(23,26,e.metrics["Status.JVM.Memory.Heap.Used"])," / ",t.lcZ(24,28,e.metrics["Status.JVM.Memory.Heap.Max"])," "),t.xp6(8),t.Oqu(t.lcZ(31,30,null==e.taskManagerDetail?null:e.taskManagerDetail.memoryConfiguration.taskHeap)),t.xp6(6),t.Oqu(t.lcZ(37,32,null==e.taskManagerDetail?null:e.taskManagerDetail.memoryConfiguration.managedMemory)),t.xp6(3),t.Q6J("nzPercent",+t.xi3(40,34,e.metrics["Status.Flink.Memory.Managed.Used"]/e.metrics["Status.Flink.Memory.Managed.Total"]*100,"1.0-2")),t.xp6(2),t.AsE(" ",t.lcZ(42,37,e.metrics["Status.Flink.Memory.Managed.Used"])," / ",t.lcZ(43,39,e.metrics["Status.Flink.Memory.Managed.Total"])," "),t.xp6(7),t.Oqu(t.lcZ(49,41,null==e.taskManagerDetail?null:e.taskManagerDetail.memoryConfiguration.frameworkOffHeap)),t.xp6(8),t.Oqu(t.lcZ(57,43,null==e.taskManagerDetail?null:e.taskManagerDetail.memoryConfiguration.taskOffHeap)),t.xp6(6),t.Oqu(t.lcZ(63,45,null==e.taskManagerDetail?null:e.taskManagerDetail.memoryConfiguration.networkMemory)),t.xp6(3),t.Q6J("nzPercent",+t.xi3(66,47,e.metrics["Status.Shuffle.Netty.UsedMemory"]/e.metrics["Status.Shuffle.Netty.TotalMemory"]*100,"1.0-2")),t.xp6(2),t.AsE(" ",t.lcZ(68,50,e.metrics["Status.Shuffle.Netty.UsedMemory"])," / ",t.lcZ(69,52,e.metrics["Status.Shuffle.Netty.TotalMemory"])," "),t.xp6(7),t.Oqu(t.lcZ(75,54,null==e.taskManagerDetail?null:e.taskManagerDetail.memoryConfiguration.jvmMetaspace)),t.xp6(3),t.Q6J("nzPercent",+t.xi3(78,56,e.metrics["Status.JVM.Memory.Metaspace.Used"]/e.metrics["Status.JVM.Memory.Metaspace.Max"]*100,"1.0-2")),t.xp6(2),t.AsE(" ",t.lcZ(80,59,e.metrics["Status.JVM.Memory.Metaspace.Used"])," / ",t.lcZ(81,61,e.metrics["Status.JVM.Memory.Metaspace.Max"])," "),t.xp6(7),t.Oqu(t.lcZ(87,63,null==e.taskManagerDetail?null:e.taskManagerDetail.memoryConfiguration.jvmOverhead))}}function rt(a,o){if(1&a&&(t.TgZ(0,"tr"),t.TgZ(1,"td"),t.TgZ(2,"strong"),t._uU(3),t.qZA(),t.qZA(),t.TgZ(4,"td"),t._uU(5),t.ALo(6,"number"),t.qZA(),t.TgZ(7,"td"),t._uU(8),t.ALo(9,"number"),t.qZA(),t.qZA()),2&a){const e=o.$implicit;t.xp6(3),t.Oqu(e.name),t.xp6(2),t.Oqu(t.lcZ(6,3,e.count)),t.xp6(3),t.Oqu(t.lcZ(9,5,e.time))}}let lt=(()=>{class a{constructor(e,n,s,g){this.taskManagerService=e,this.activatedRoute=n,this.statusService=s,this.cdr=g,this.metrics={},this.destroy$=new M.xQ}ngOnInit(){const e=this.activatedRoute.parent.snapshot.params.taskManagerId;this.statusService.refresh$.pipe((0,ot.O)(!0),(0,x.zg)(()=>this.taskManagerService.loadManager(e).pipe((0,f.K)(()=>(0,Z.of)(void 0)))),(0,h.R)(this.destroy$)).subscribe(n=>{n&&this.reload(n.id),this.taskManagerDetail=n,this.cdr.markForCheck()})}ngOnDestroy(){this.destroy$.next(),this.destroy$.complete()}reload(e){this.taskManagerService.loadMetrics(e,["Status.JVM.Memory.Heap.Used","Status.JVM.Memory.Heap.Max","Status.Shuffle.Netty.UsedMemory","Status.Shuffle.Netty.TotalMemory","Status.Flink.Memory.Managed.Used","Status.Flink.Memory.Managed.Total","Status.JVM.Memory.Metaspace.Used","Status.JVM.Memory.Metaspace.Max"]).pipe((0,f.K)(()=>(0,Z.of)({})),(0,h.R)(this.destroy$)).subscribe(n=>{this.metrics=n,this.cdr.markForCheck()})}}return a.\u0275fac=function(e){return new(e||a)(t.Y36(z.k),t.Y36(p.gz),t.Y36(U.B),t.Y36(t.sBO))},a.\u0275cmp=t.Xpm({type:a,selectors:[["flink-task-manager-metrics"]],decls:118,vars:66,consts:[["nzTitle","Memory","nzSize","small",1,"flink-memory-model"],["nzBordered","","nzTemplateMode","","nzSize","small",3,"nzWidthConfig",4,"ngIf"],["nzTitle","Advanced","nzSize","small"],["nz-row","",3,"nzGutter"],["nz-col","",3,"nzSpan"],["nzBordered","","nzTitle","JVM (Heap/Non-Heap) Memory",1,"no-border",3,"nzTemplateMode","nzFrontPagination","nzShowPagination","nzSize"],["nzBordered","","nzTitle","Outside JVM Memory",1,"no-border",3,"nzTemplateMode","nzFrontPagination","nzShowPagination","nzSize"],["nz-row","",1,"top-margin",3,"nzGutter"],["nzBordered","","nzTitle","Netty Shuffle Buffers",1,"no-border",3,"nzTemplateMode","nzFrontPagination","nzShowPagination","nzSize"],["nzBordered","","nzTitle","Garbage Collection",1,"no-border",3,"nzTemplateMode","nzFrontPagination","nzShowPagination","nzSize"],[4,"ngFor","ngForOf"],["nzBordered","","nzTemplateMode","","nzSize","small",3,"nzWidthConfig"],["colspan","2",1,"table-header"],[1,"table-header"],["nz-icon","","nz-tooltip","","nzTooltipTitle","This column shows the values that are actually used by Flink. These may differ from the configured values; Flink may adjust them to fit the actual setup, and automatically derives values that were not explicitly configured.","nzType","info-circle",1,"header-icon"],["rowspan","8",1,"table-header"],["src","assets/images/memory-model.svg","alt","Memory model"],["rowspan","2"],["nzSize","small","nzStrokeLinecap","square","nzStatus","normal",3,"nzPercent"],["nz-icon","","nz-tooltip","","nzTooltipTitle","The maximum heap displayed might differ from the configured values depending on the used GC algorithm for this process.","nzType","info-circle"],["nz-icon","","nz-tooltip","","nzTooltipTitle","Metrics related to this configuration parameter cannot be monitored. Flink does not have full control over these memory pools.","nzType","info-circle"]],template:function(e,n){1&e&&(t.TgZ(0,"nz-card",0),t.YNc(1,st,90,66,"nz-table",1),t.qZA(),t.TgZ(2,"nz-card",2),t.TgZ(3,"div",3),t.TgZ(4,"div",4),t.TgZ(5,"nz-table",5),t.TgZ(6,"thead"),t.TgZ(7,"tr"),t.TgZ(8,"th"),t._uU(9,"Type"),t.qZA(),t.TgZ(10,"th"),t._uU(11,"Committed"),t.qZA(),t.TgZ(12,"th"),t._uU(13,"Used"),t.qZA(),t.TgZ(14,"th"),t._uU(15,"Maximum"),t.qZA(),t.qZA(),t.qZA(),t.TgZ(16,"tbody"),t.TgZ(17,"tr"),t.TgZ(18,"td"),t.TgZ(19,"strong"),t._uU(20,"Heap"),t.qZA(),t.qZA(),t.TgZ(21,"td"),t._uU(22),t.ALo(23,"humanizeBytes"),t.qZA(),t.TgZ(24,"td"),t._uU(25),t.ALo(26,"humanizeBytes"),t.qZA(),t.TgZ(27,"td"),t._uU(28),t.ALo(29,"humanizeBytes"),t.qZA(),t.qZA(),t.TgZ(30,"tr"),t.TgZ(31,"td"),t.TgZ(32,"strong"),t._uU(33,"Non-Heap"),t.qZA(),t.qZA(),t.TgZ(34,"td"),t._uU(35),t.ALo(36,"humanizeBytes"),t.qZA(),t.TgZ(37,"td"),t._uU(38),t.ALo(39,"humanizeBytes"),t.qZA(),t.TgZ(40,"td"),t._uU(41),t.ALo(42,"humanizeBytes"),t.qZA(),t.qZA(),t.qZA(),t.qZA(),t.qZA(),t.TgZ(43,"div",4),t.TgZ(44,"nz-table",6),t.TgZ(45,"thead"),t.TgZ(46,"tr"),t.TgZ(47,"th"),t._uU(48,"Type"),t.qZA(),t.TgZ(49,"th"),t._uU(50,"Count"),t.qZA(),t.TgZ(51,"th"),t._uU(52,"Used"),t.qZA(),t.TgZ(53,"th"),t._uU(54,"Capacity"),t.qZA(),t.qZA(),t.qZA(),t.TgZ(55,"tbody"),t.TgZ(56,"tr"),t.TgZ(57,"td"),t.TgZ(58,"strong"),t._uU(59,"Direct"),t.qZA(),t.qZA(),t.TgZ(60,"td"),t._uU(61),t.ALo(62,"number"),t.qZA(),t.TgZ(63,"td"),t._uU(64),t.ALo(65,"humanizeBytes"),t.qZA(),t.TgZ(66,"td"),t._uU(67),t.ALo(68,"humanizeBytes"),t.qZA(),t.qZA(),t.TgZ(69,"tr"),t.TgZ(70,"td"),t.TgZ(71,"strong"),t._uU(72,"Mapped"),t.qZA(),t.qZA(),t.TgZ(73,"td"),t._uU(74),t.ALo(75,"number"),t.qZA(),t.TgZ(76,"td"),t._uU(77),t.ALo(78,"humanizeBytes"),t.qZA(),t.TgZ(79,"td"),t._uU(80),t.ALo(81,"humanizeBytes"),t.qZA(),t.qZA(),t.qZA(),t.qZA(),t.qZA(),t.qZA(),t.TgZ(82,"div",7),t.TgZ(83,"div",4),t.TgZ(84,"nz-table",8),t.TgZ(85,"thead"),t.TgZ(86,"tr"),t.TgZ(87,"th"),t._uU(88,"Type"),t.qZA(),t.TgZ(89,"th"),t._uU(90,"Count"),t.qZA(),t.qZA(),t.qZA(),t.TgZ(91,"tbody"),t.TgZ(92,"tr"),t.TgZ(93,"td"),t.TgZ(94,"strong"),t._uU(95,"Available"),t.qZA(),t.qZA(),t.TgZ(96,"td"),t._uU(97),t.ALo(98,"number"),t.qZA(),t.qZA(),t.TgZ(99,"tr"),t.TgZ(100,"td"),t.TgZ(101,"strong"),t._uU(102,"Total"),t.qZA(),t.qZA(),t.TgZ(103,"td"),t._uU(104),t.ALo(105,"number"),t.qZA(),t.qZA(),t.qZA(),t.qZA(),t.qZA(),t.TgZ(106,"div",4),t.TgZ(107,"nz-table",9),t.TgZ(108,"thead"),t.TgZ(109,"tr"),t.TgZ(110,"th"),t._uU(111,"Collector"),t.qZA(),t.TgZ(112,"th"),t._uU(113,"Count"),t.qZA(),t.TgZ(114,"th"),t._uU(115,"Time"),t.qZA(),t.qZA(),t.qZA(),t.TgZ(116,"tbody"),t.YNc(117,rt,10,7,"tr",10),t.qZA(),t.qZA(),t.qZA(),t.qZA(),t.qZA()),2&e&&(t.xp6(1),t.Q6J("ngIf",n.metrics),t.xp6(2),t.Q6J("nzGutter",16),t.xp6(1),t.Q6J("nzSpan",12),t.xp6(1),t.Q6J("nzTemplateMode",!0)("nzFrontPagination",!1)("nzShowPagination",!1)("nzSize","small"),t.xp6(17),t.Oqu(t.lcZ(23,38,null==n.taskManagerDetail?null:n.taskManagerDetail.metrics.heapCommitted)),t.xp6(3),t.Oqu(t.lcZ(26,40,null==n.taskManagerDetail?null:n.taskManagerDetail.metrics.heapUsed)),t.xp6(3),t.Oqu(t.lcZ(29,42,null==n.taskManagerDetail?null:n.taskManagerDetail.metrics.heapMax)),t.xp6(7),t.Oqu(t.lcZ(36,44,null==n.taskManagerDetail?null:n.taskManagerDetail.metrics.nonHeapCommitted)),t.xp6(3),t.Oqu(t.lcZ(39,46,null==n.taskManagerDetail?null:n.taskManagerDetail.metrics.nonHeapUsed)),t.xp6(3),t.Oqu(t.lcZ(42,48,null==n.taskManagerDetail?null:n.taskManagerDetail.metrics.nonHeapMax)),t.xp6(2),t.Q6J("nzSpan",12),t.xp6(1),t.Q6J("nzTemplateMode",!0)("nzFrontPagination",!1)("nzShowPagination",!1)("nzSize","small"),t.xp6(17),t.Oqu(t.lcZ(62,50,null==n.taskManagerDetail?null:n.taskManagerDetail.metrics.directCount)),t.xp6(3),t.Oqu(t.lcZ(65,52,null==n.taskManagerDetail?null:n.taskManagerDetail.metrics.directUsed)),t.xp6(3),t.Oqu(t.lcZ(68,54,null==n.taskManagerDetail?null:n.taskManagerDetail.metrics.directMax)),t.xp6(7),t.Oqu(t.lcZ(75,56,null==n.taskManagerDetail?null:n.taskManagerDetail.metrics.mappedCount)),t.xp6(3),t.Oqu(t.lcZ(78,58,null==n.taskManagerDetail?null:n.taskManagerDetail.metrics.mappedUsed)),t.xp6(3),t.Oqu(t.lcZ(81,60,null==n.taskManagerDetail?null:n.taskManagerDetail.metrics.mappedMax)),t.xp6(2),t.Q6J("nzGutter",16),t.xp6(1),t.Q6J("nzSpan",12),t.xp6(1),t.Q6J("nzTemplateMode",!0)("nzFrontPagination",!1)("nzShowPagination",!1)("nzSize","small"),t.xp6(13),t.Oqu(t.lcZ(98,62,null==n.taskManagerDetail?null:n.taskManagerDetail.metrics.memorySegmentsAvailable)),t.xp6(7),t.Oqu(t.lcZ(105,64,null==n.taskManagerDetail?null:n.taskManagerDetail.metrics.memorySegmentsTotal)),t.xp6(2),t.Q6J("nzSpan",12),t.xp6(1),t.Q6J("nzTemplateMode",!0)("nzFrontPagination",!1)("nzShowPagination",!1)("nzSize","small"),t.xp6(10),t.Q6J("ngForOf",null==n.taskManagerDetail?null:n.taskManagerDetail.metrics.garbageCollectors))},directives:[O.bd,m.O5,r.N8,r.Om,r.$Z,r.Uo,r._C,v.Ls,J.SY,r.p0,F.M,q.SK,q.t3,m.sg],pipes:[L.E,m.JJ],styles:["[_nghost-%COMP%]{display:flex;flex:1;flex-direction:column;overflow:auto}[_nghost-%COMP%]     .ant-table-cell{font-size:12px}[_nghost-%COMP%]   .header-icon[_ngcontent-%COMP%]{position:relative;top:1px}[_nghost-%COMP%]   nz-progress[_ngcontent-%COMP%]{display:block;width:90%}[_nghost-%COMP%]   nz-progress[_ngcontent-%COMP%]     .ant-progress-inner{border-radius:0}[_nghost-%COMP%]   .flink-memory-model[_ngcontent-%COMP%]{margin-bottom:16px}[_nghost-%COMP%]   .flink-memory-model[_ngcontent-%COMP%]   .table-header[_ngcontent-%COMP%]{font-weight:500}[_nghost-%COMP%]   .flink-memory-model[_ngcontent-%COMP%]     .ant-table-small tr:hover td, [_nghost-%COMP%]   .flink-memory-model[_ngcontent-%COMP%]     .ant-table-small tr:hover th{background:transparent}[_nghost-%COMP%]   .top-margin[_ngcontent-%COMP%]{margin-top:16px}"],changeDetection:0}),a})(),gt=(()=>{class a{constructor(e,n,s,g,c){this.taskManagerService=e,this.configService=n,this.activatedRoute=s,this.cdr=g,this.moduleConfig=c,this.stdout="",this.loading=!0,this.downloadUrl="",this.downloadName="",this.destroy$=new M.xQ,this.editorOptions=c.editorOptions||k.editorOptions}ngOnInit(){this.taskManagerId=this.activatedRoute.parent.snapshot.params.taskManagerId,this.downloadUrl=`${this.configService.BASE_URL}/taskmanagers/${this.taskManagerId}/stdout`,this.downloadName=`taskmanager_${this.taskManagerId}_stdout`,this.reload()}ngOnDestroy(){this.destroy$.next(),this.destroy$.complete()}reload(){this.loading=!0,this.cdr.markForCheck(),this.taskManagerService.loadStdout(this.taskManagerId).pipe((0,f.K)(()=>(0,Z.of)("")),(0,h.R)(this.destroy$)).subscribe(e=>{this.stdout=e,this.loading=!1,this.cdr.markForCheck()})}}return a.\u0275fac=function(e){return new(e||a)(t.Y36(z.k),t.Y36(P.E),t.Y36(p.gz),t.Y36(t.sBO),t.Y36(_))},a.\u0275cmp=t.Xpm({type:a,selectors:[["flink-task-manager-stdout"]],decls:2,vars:5,consts:[["flinkAutoResize","",3,"nzLoading","ngModel","nzEditorOption"],[3,"downloadHref","downloadName","reload"]],template:function(e,n){1&e&&(t._UZ(0,"nz-code-editor",0),t.TgZ(1,"flink-addon-compact",1),t.NdJ("reload",function(){return n.reload()}),t.qZA()),2&e&&(t.Q6J("nzLoading",n.loading)("ngModel",n.stdout)("nzEditorOption",n.editorOptions),t.xp6(1),t.Q6J("downloadHref",n.downloadUrl)("downloadName",n.downloadName))},directives:[y.XZ,A.w,u.JJ,u.On,b.N],styles:["[_nghost-%COMP%]{position:relative;flex:1}[_nghost-%COMP%]   nz-code-editor[_ngcontent-%COMP%]{position:absolute;top:0;right:0;bottom:0;left:0}"],changeDetection:0}),a})();var dt=i(37141);function ct(a,o){1&a&&t._UZ(0,"flink-blocked-badge")}function pt(a,o){if(1&a&&(t.TgZ(0,"nz-descriptions",7),t.TgZ(1,"nz-descriptions-item",8),t._uU(2),t.qZA(),t.TgZ(3,"nz-descriptions-item",9),t._uU(4),t.qZA(),t.TgZ(5,"nz-descriptions-item",10),t._uU(6),t.ALo(7,"date"),t.qZA(),t.TgZ(8,"nz-descriptions-item",11),t._uU(9),t.qZA(),t.TgZ(10,"nz-descriptions-item",12),t._uU(11),t.qZA(),t.TgZ(12,"nz-descriptions-item",13),t._uU(13),t.ALo(14,"humanizeBytes"),t.qZA(),t.TgZ(15,"nz-descriptions-item",14),t._uU(16),t.ALo(17,"humanizeBytes"),t.qZA(),t.TgZ(18,"nz-descriptions-item",15),t._uU(19),t.ALo(20,"humanizeBytes"),t.qZA(),t.qZA()),2&a){const e=t.oxw(2);t.xp6(1),t.Q6J("nzSpan",2),t.xp6(1),t.hij(" ",e.taskManagerDetail.path," "),t.xp6(1),t.Q6J("nzSpan",1),t.xp6(1),t.AsE(" ",e.taskManagerDetail.freeSlots," / ",e.taskManagerDetail.slotsNumber," "),t.xp6(1),t.Q6J("nzSpan",1),t.xp6(1),t.hij(" ",t.xi3(7,17,e.taskManagerDetail.timeSinceLastHeartbeat,"yyyy-MM-dd HH:mm:ss")," "),t.xp6(2),t.Q6J("nzSpan",1),t.xp6(1),t.hij(" ",e.taskManagerDetail.dataPort," "),t.xp6(1),t.Q6J("nzSpan",1),t.xp6(1),t.hij(" ",e.taskManagerDetail.hardware.cpuCores," "),t.xp6(1),t.Q6J("nzSpan",1),t.xp6(1),t.hij(" ",t.lcZ(14,20,e.taskManagerDetail.hardware.physicalMemory)," "),t.xp6(2),t.Q6J("nzSpan",1),t.xp6(1),t.hij(" ",t.lcZ(17,22,e.taskManagerDetail.hardware.freeMemory)," "),t.xp6(2),t.Q6J("nzSpan",1),t.xp6(1),t.hij(" ",t.lcZ(20,24,e.taskManagerDetail.hardware.managedMemory)," ")}}function mt(a,o){if(1&a&&(t.ynx(0),t.TgZ(1,"div",2),t.TgZ(2,"span",3),t._uU(3),t.qZA(),t.YNc(4,ct,1,0,"flink-blocked-badge",4),t.qZA(),t.YNc(5,pt,21,26,"nz-descriptions",5),t._UZ(6,"flink-navigation",6),t.BQk()),2&a){const e=t.oxw();t.xp6(1),t.uIk("title",null==e.taskManagerDetail?null:e.taskManagerDetail.id),t.xp6(2),t.Oqu(null==e.taskManagerDetail?null:e.taskManagerDetail.id),t.xp6(1),t.Q6J("ngIf",null==e.taskManagerDetail?null:e.taskManagerDetail.blocked),t.xp6(1),t.Q6J("ngIf",e.taskManagerDetail),t.xp6(1),t.Q6J("listOfNavigation",e.listOfNavigation)}}const ut=function(){return{rows:6}};function ht(a,o){1&a&&t._UZ(0,"nz-skeleton",16),2&a&&t.Q6J("nzActive",!0)("nzTitle",!1)("nzParagraph",t.DdM(3,ut))}let Mt=(()=>{class a{constructor(e,n,s,g){this.taskManagerService=e,this.statusService=n,this.activatedRoute=s,this.cdr=g,this.listOfNavigation=[{path:"metrics",title:"Metrics"},{path:"logs",title:"Logs"},{path:"stdout",title:"Stdout"},{path:"log-list",title:"Log List"},{path:"thread-dump",title:"Thread Dump"}],this.loading=!0,this.destroy$=new M.xQ}ngOnInit(){this.statusService.refresh$.pipe((0,x.zg)(()=>this.taskManagerService.loadManager(this.activatedRoute.snapshot.params.taskManagerId).pipe((0,f.K)(()=>(0,Z.of)(void 0)))),(0,h.R)(this.destroy$)).subscribe(e=>{this.taskManagerDetail=e,this.loading=!1,this.cdr.markForCheck()})}ngOnDestroy(){this.destroy$.next(),this.destroy$.complete()}}return a.\u0275fac=function(e){return new(e||a)(t.Y36(z.k),t.Y36(U.B),t.Y36(p.gz),t.Y36(t.sBO))},a.\u0275cmp=t.Xpm({type:a,selectors:[["flink-task-manager-status"]],decls:3,vars:2,consts:[[4,"ngIf","ngIfElse"],["loadingContent",""],[1,"title-wrapper"],[1,"title"],[4,"ngIf"],["nzBordered","","nzSize","small",4,"ngIf"],[3,"listOfNavigation"],["nzBordered","","nzSize","small"],["nzTitle","Path",3,"nzSpan"],["nzTitle","Free/All Slots",3,"nzSpan"],["nzTitle","Last Heartbeat",3,"nzSpan"],["nzTitle","Data Port",3,"nzSpan"],["nzTitle","CPU Cores",3,"nzSpan"],["nzTitle","Physical Memory",3,"nzSpan"],["nzTitle","JVM Heap Size",3,"nzSpan"],["nzTitle","Flink Managed Memory",3,"nzSpan"],[3,"nzActive","nzTitle","nzParagraph"]],template:function(e,n){if(1&e&&(t.YNc(0,mt,7,5,"ng-container",0),t.YNc(1,ht,1,4,"ng-template",null,1,t.W1O)),2&e){const s=t.MAs(2);t.Q6J("ngIf",!n.loading)("ngIfElse",s)}},directives:[m.O5,N,S.R7,S.uj,dt.J,w.ng],pipes:[m.uU,L.E],styles:["[_nghost-%COMP%]{display:block;padding:16px 24px 0;border-bottom:1px solid #f0f0f0;background:#fff}[_nghost-%COMP%]   .title-wrapper[_ngcontent-%COMP%]{display:flex;align-items:center;margin-bottom:12px}[_nghost-%COMP%]   .title-wrapper[_ngcontent-%COMP%]   .title[_ngcontent-%COMP%]{overflow:hidden;font-weight:500;font-size:18px;text-overflow:ellipsis;white-space:nowrap}[_nghost-%COMP%]   flink-blocked-badge[_ngcontent-%COMP%]{margin-left:4px}"],changeDetection:0}),a})();const Zt=[{path:"",component:R},{path:":taskManagerId",component:(()=>{class a{constructor(){}}return a.\u0275fac=function(e){return new(e||a)},a.\u0275cmp=t.Xpm({type:a,selectors:[["flink-task-manager"]],decls:3,vars:0,consts:[[1,"content"]],template:function(e,n){1&e&&(t._UZ(0,"flink-task-manager-status"),t.TgZ(1,"div",0),t._UZ(2,"router-outlet"),t.qZA())},directives:[Mt,p.lC],styles:["[_nghost-%COMP%]{display:flex;flex-flow:column nowrap;height:100%}[_nghost-%COMP%]   .content[_ngcontent-%COMP%]{display:flex;flex:1;margin-top:16px}[_nghost-%COMP%]   .content[_ngcontent-%COMP%]   .router[_ngcontent-%COMP%]{display:flex;flex:1}[_nghost-%COMP%]   .content[_ngcontent-%COMP%]   .router.hide[_ngcontent-%COMP%]{display:none}"],changeDetection:0}),a})(),children:[{path:"metrics",component:lt,data:{path:"metrics"}},{path:"log-list",component:nt,data:{path:"log-list"}},{path:"thread-dump",component:(()=>{class a{constructor(e,n,s,g,c){this.taskManagerService=e,this.configService=n,this.activatedRoute=s,this.cdr=g,this.moduleConfig=c,this.dump="",this.loading=!0,this.downloadUrl="",this.downloadName="",this.destroy$=new M.xQ,this.editorOptions=c.editorOptions||k.editorOptions}ngOnInit(){this.taskManagerId=this.activatedRoute.parent.snapshot.params.taskManagerId,this.downloadUrl=`${this.configService.BASE_URL}/taskmanagers/${this.taskManagerId}/thread-dump`,this.downloadName=`taskmanager_${this.taskManagerId}_thread_dump`,this.reload()}ngOnDestroy(){this.destroy$.next(),this.destroy$.complete()}reload(){this.loading=!0,this.cdr.markForCheck(),this.taskManagerService.loadThreadDump(this.taskManagerId).pipe((0,f.K)(()=>(0,Z.of)("")),(0,h.R)(this.destroy$)).subscribe(e=>{this.loading=!1,this.dump=e,this.cdr.markForCheck()})}}return a.\u0275fac=function(e){return new(e||a)(t.Y36(z.k),t.Y36(P.E),t.Y36(p.gz),t.Y36(t.sBO),t.Y36(_))},a.\u0275cmp=t.Xpm({type:a,selectors:[["flink-task-manager-thread-dump"]],decls:2,vars:5,consts:[["flinkAutoResize","",3,"nzLoading","ngModel","nzEditorOption"],[3,"downloadHref","downloadName","reload"]],template:function(e,n){1&e&&(t._UZ(0,"nz-code-editor",0),t.TgZ(1,"flink-addon-compact",1),t.NdJ("reload",function(){return n.reload()}),t.qZA()),2&e&&(t.Q6J("nzLoading",n.loading)("ngModel",n.dump)("nzEditorOption",n.editorOptions),t.xp6(1),t.Q6J("downloadHref",n.downloadUrl)("downloadName",n.downloadName))},directives:[y.XZ,A.w,u.JJ,u.On,b.N],styles:["[_nghost-%COMP%]{position:relative;flex:1}[_nghost-%COMP%]   nz-code-editor[_ngcontent-%COMP%]{position:absolute;top:0;right:0;bottom:0;left:0}"],changeDetection:0}),a})(),data:{path:"thread-dump"}},{path:"log-list/:logName",component:W,data:{path:"log-list"}},{path:"logs",component:at,data:{path:"logs"}},{path:"stdout",component:gt,data:{path:"stdout"}},{path:"**",redirectTo:"metrics",pathMatch:"full"}]}];let ft=(()=>{class a{}return a.\u0275fac=function(e){return new(e||a)},a.\u0275mod=t.oAB({type:a}),a.\u0275inj=t.cJS({imports:[[p.Bz.forChild(Zt)],p.Bz]}),a})(),zt=(()=>{class a{}return a.\u0275fac=function(e){return new(e||a)},a.\u0275mod=t.oAB({type:a}),a.\u0275inj=t.cJS({imports:[[m.ez,Q.G,ft,r.HQ,O.vh,C.lt,v.PV,J.cg,F.W,q.Jb,I.S,w.H0,y.qw,u.u5,S.q6]]}),a})()}}]);